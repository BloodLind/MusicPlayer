<customView:CustomView 
    
    
    
    x:Class="MusicPlayer.WPF.Views.HomeView"
    xmlns:customView="clr-namespace:MusicPlayer.WPF.Infrastructure"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MusicPlayer.WPF.Views"
    
             mc:Ignorable="d" 
             d:DesignHeight="720" d:DesignWidth="1300"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
    
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" xmlns:z="clr-namespace:MusicPlayer.WPF.Services"
    TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.FontWeight="Medium"
        TextElement.FontSize="14"
        FontFamily="{materialDesign:MaterialDesignFont}"
    
    >

    <customView:CustomView.Resources>
        <z:TimeConverter x:Key="timeConverter"/>
    </customView:CustomView.Resources>

    <DockPanel LastChildFill="True"
               Height="auto">
        <Grid VerticalAlignment="Top" DockPanel.Dock="Top">
            <materialDesign:Card DockPanel.Dock="Top" MouseDown="Card_MouseDown" MaxHeight="40" Height="35"
                                 Background="{DynamicResource MaterialDesignDarkBackground}"
                                 materialDesign:ShadowAssist.ShadowDepth="Depth0">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top">



                    <Button
                    Click="ClickMinimizeWindow"
                    Width="50"
                    Height="25"
                    Style="{DynamicResource MaterialDesignFlatButton}">
                        <materialDesign:PackIcon
    Kind="WindowMinimize"
    Height="18"
    Width="18" />

                    </Button>

                    <Button
                    Click="ClickMaximizeWindow"
                    Width="50"
                    Height="25"
                    Style="{DynamicResource MaterialDesignFlatButton}">
                        <materialDesign:PackIcon
    Kind="WindowMaximize"
    Height="18"
    Width="18" />

                    </Button>


                    <Button
                    Click="ClickClose"
                    Width="50"
                    Height="25"
                    Style="{DynamicResource MaterialDesignFlatButton}">
                        <materialDesign:PackIcon
    Kind="WindowClose"
    Height="18"
    Width="18" />

                    </Button>

                </StackPanel>
            </materialDesign:Card>
        </Grid>



        <Grid DockPanel.Dock="Bottom" VerticalAlignment="Bottom">





            <materialDesign:Card Grid.Row="1"
                                 VerticalAlignment="Bottom"
                Opacity="0.80"
                UniformCornerRadius="8"
                Background="{DynamicResource MaterialDesignDarkBackground}"
                    materialDesign:ShadowAssist.ShadowEdges="All"
                
                Height="110">


                <Grid>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="2.3*"></RowDefinition>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>


                    <Grid Grid.Row="0" Width="340" HorizontalAlignment="Left"
                          >

                        <Grid.InputBindings>
                            <MouseBinding Gesture="LeftClick" Command="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=customView:CustomView},Path=DataContext.TrackInfoCommand}"/>
                        </Grid.InputBindings>


                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>

                        <materialDesign:Card Margin="10,3,3,3"
                                             Background="Transparent"
                                             >


                            <Rectangle
                        
                        
                        
                        HorizontalAlignment="Left"
                        RadiusX="10" 
                        RadiusY="10"
                        Width="70"
                        Height="70">



                                <Rectangle.Fill>
                                    <ImageBrush x:Name="myImage" ImageSource="{Binding SelectedTrack.Image}" />
                                </Rectangle.Fill>
                            </Rectangle>
                        </materialDesign:Card>


                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Orientation="Vertical">

                            <TextBlock
  Style="{StaticResource MaterialDesignSubtitle2TextBlock}"
  Text="{Binding SelectedTrack.Title}" />

                            <TextBlock
                                
  Style="{StaticResource MaterialDesignCaptionTextBlock}"
  Text="{Binding SelectedTrack.Album}" />



                        </StackPanel>

                    </Grid>





                    <Grid Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Center" Width="450">

                        <StackPanel Orientation="Horizontal"
                                            HorizontalAlignment="Center">

                            <Button
  Style="{DynamicResource MaterialDesignFlatButton}"
                                Command="{Binding ShuffleCommand}"
                                        Background="Transparent">

                                <materialDesign:PackIcon
                                    Foreground="White"
    Kind="ShuffleVariant"
    Height="20"
    Width="20" />
                            </Button>

                            <Button
  Style="{DynamicResource MaterialDesignFlatButton}"
                                        Background="Transparent"
                                Command="{Binding PreviousCommand}">

                                <materialDesign:PackIcon
                                    Foreground="White"
    Kind="SkipPrevious"
    Height="20"
    Width="20" />
                            </Button>

                            <Button
                                
                                
  Style="{StaticResource MaterialDesignFloatingActionMiniButton}"
                                
                                Background="White"
                                BorderBrush="White"
  ToolTip="MaterialDesignFloatingActionMiniAccentButton"
                                Click="PlayPauseClick"
                                x:Name="PlayPauseButton"
                                >





                                <materialDesign:PackIcon
                             
    Kind="Play"
    Height="25"
    Width="25" />
                            </Button>


                            <Button
  Style="{DynamicResource MaterialDesignFlatButton}"
                                        Background="Transparent"
                                Command="{Binding NextCommand}">

                                <materialDesign:PackIcon
                                    Foreground="White"
    Kind="SkipNext"
    Height="20"
    Width="20" />
                            </Button>


                            <Button
  Style="{DynamicResource MaterialDesignFlatButton}"
                                Command="{Binding RandomCommand}"
                                        Background="Transparent">

                                <materialDesign:PackIcon
                                    Foreground="White"
    Kind="Help"
    Height="20"
    Width="20" />
                            </Button>


                        </StackPanel>


                    </Grid>



                    <Grid Grid.Row="0"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Right"
                          Width="200">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="5*"/>
                        </Grid.ColumnDefinitions>


                        <materialDesign:PackIcon Kind="VolumeHigh"
                                                     Grid.Column="0"
                                                     VerticalAlignment="Center"
                                                 HorizontalAlignment="Center"/>


                        <Slider VerticalAlignment="Center"
                                    Grid.Column="1"
                                    Margin="0,0,15,0"
                                Foreground="White"
                                
                                
  
  Minimum="0"
  Maximum="1"
  Value="{Binding Volume}" />


                    </Grid>


                    <Grid Width="700"
                          Grid.Row="1">

                        <Grid>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="5*"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>


                            <Slider Grid.Column="1"
                                        VerticalAlignment="Center"
                                    Margin="5"
                                        Foreground="White"
                                        
                                        
  Maximum="{Binding SelectedTrack.PlayTime.TotalSeconds, Mode=OneWay}"
  Value="{Binding CurrentPosition}" />


                            <TextBlock Grid.Column="0"
                                        
                                               Margin="5"
                                        
                                        FontSize="13"
                                        VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                        Text="{Binding CurrentPosition, Converter={StaticResource timeConverter}, UpdateSourceTrigger=PropertyChanged}"
                                        ></TextBlock>


                            <TextBlock Grid.Column="2"
                                        
                                               Margin="5"
                                        
                                        FontSize="13"
                                        VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                        Text="{Binding SelectedTrack.PlayTime, Converter={StaticResource timeConverter}}"
                                        ></TextBlock>


                        </Grid>

                    </Grid>


                </Grid>




            </materialDesign:Card>



        </Grid>

        <Grid DockPanel.Dock="Top">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>


            <materialDesign:Card Grid.Column="0"
                                 Margin="5"
                                 UniformCornerRadius="8"
                                 materialDesign:ShadowAssist.ShadowDepth="Depth0"
                Background="{StaticResource BackgroundDarkerColor}">

                <Grid>

                    <ListView
                        MouseDoubleClick="CurrentTrackListDoubleClick"
                        x:Name="TracksListView"
                        Style="{DynamicResource MaterialDesignListView}"
                        ItemsSource="{Binding Tracks, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                        SelectedItem="{Binding SelectedTrack, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                        >



                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <Grid
                                      >
                                    <materialDesign:Card
                                        Margin="5"
                                        Background="Transparent"
                                        >
                                        <StackPanel Orientation="Horizontal">



                                            <Rectangle Grid.Column="0"
                        
                        
                        
                        
                        RadiusX="10" 
                        RadiusY="10"
                        Width="75"
                        Height="75">



                                                <Rectangle.Fill>
                                                    <ImageBrush x:Name="myImage" ImageSource="{Binding Image}" />
                                                </Rectangle.Fill>
                                            </Rectangle>



                                            <TextBlock
                                                    VerticalAlignment="Center"
                                             Margin="10,0,0,0"
  Style="{StaticResource MaterialDesignSubtitle2TextBlock}"
  Text="{Binding Title}">

                                            </TextBlock>

                                            <TextBlock
                                                    VerticalAlignment="Center"
                                             Margin="10,0,0,0"
  Style="{StaticResource MaterialDesignSubtitle2TextBlock}"
  Text="{Binding Artist}">

                                            </TextBlock>

                                            <TextBlock
                                                    VerticalAlignment="Center"
                                             Margin="10,0,0,0"
  Style="{StaticResource MaterialDesignSubtitle2TextBlock}"
  Text="{Binding Album}">

                                            </TextBlock>

                                        </StackPanel>
                                    </materialDesign:Card>
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>

                    </ListView>

                </Grid>

            </materialDesign:Card>




            <materialDesign:Card Grid.Column="1"
                                 Margin="5"
                                 UniformCornerRadius="8"
                                 materialDesign:ShadowAssist.ShadowDepth="Depth0"
                Background="{DynamicResource MaterialDesignDarkBackground}">


                <Grid
                 >

                    <TabControl 
                                
                                TabStripPlacement="Top"
                        BorderBrush="{StaticResource MaterialDesignDarkBackground}"
                        Background="{StaticResource MaterialDesignDarkBackground}">

                        <TabControl.Resources>
                            <Style TargetType="TabItem">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="TabItem">

                                            <materialDesign:Card Name="Panel"
                                                                     UniformCornerRadius="5"
                                                                     materialDesign:ShadowAssist.ShadowDepth="Depth0">
                                                <ContentPresenter x:Name="ContentSite"
                                                                      
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Center"
                                        ContentSource="Header"
                                        Margin="10,2"/>
                                            </materialDesign:Card>


                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter TargetName="Panel" Property="Background" Value="White" />
                                                    <Setter TargetName="Panel" Property="Foreground" Value="Black"/>

                                                </Trigger>
                                                <Trigger Property="IsSelected" Value="False">
                                                    <Setter TargetName="Panel" Property="Background" Value="{DynamicResource MaterialDesignDarkBackground}" />
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </TabControl.Resources>


                        <TabItem
                            Height="30"
                            Width="70"
                            Foreground="DimGray"
                            Header="Tracks">

                            <TabItem.Content>

                                <Grid Margin="15">

                                    <Button
                                        VerticalAlignment="Top"
  Style="{StaticResource MaterialDesignRaisedButton}"
  ToolTip="Resource name: MaterialDesignRaisedButton"
  Content="Show tracks" />

                                </Grid>

                            </TabItem.Content>

                        </TabItem>

                        <TabItem
                            Foreground="DimGray"
                            Height="30"
                            Width="80"
                            Header="Playlists">


                            <TabItem.Content>

                                <ListBox>
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" Margin="5">

                                                <Rectangle
                                                    RadiusX="5" 
                        RadiusY="5"
                        Width="35"
                        Height="35"
                                                    
                                                    >

                                                    <Rectangle.Fill>
                                                        <ImageBrush x:Name="myImage" ImageSource="https://www.meme-arsenal.com/memes/04792a873effe68d2688a16fb09163e2.jpg" />
                                                    </Rectangle.Fill>

                                                </Rectangle>

                                                <TextBlock
  
  Style="{StaticResource MaterialDesignCaptionTextBlock}"
  Text="Adhshba song" />

                                            </StackPanel>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>

                            </TabItem.Content>

                        </TabItem>
                        <TabItem
                            Foreground="DimGray"
                            Height="30"
                            Width="70"
                            Header="Artists">


                            <TabItem.Content>

                                <ListBox
                                    MouseDoubleClick="ArtistItemDoubleClick"
                                    x:Name="ArtistListBox"
                                    ItemsSource="{Binding Artists}"
                                   >

                                    <!--<ListBox.Resources>
                                        <Style x:Key="artistItemEventSetter" TargetType="{x:Type ListBoxItem}">
                                            <EventSetter  Event="MouseDoubleClick" Handler="ArtistItemDoubleClick"></EventSetter>
                                        </Style>
                                        
                                    </ListBox.Resources>-->

                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <Grid Margin="5">

                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                </Grid.RowDefinitions>



                                                <TextBlock
  
  Style="{StaticResource MaterialDesignBody2TextBlock}"
  Text="{Binding Name}" />

                                                <TextBlock
                                                    Grid.Row="1"
           FontSize="11"                     
  Foreground="Gray"
  Text="{Binding TracksCount, StringFormat='Tracks: {0}'}" />



                                            </Grid>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>

                            </TabItem.Content>


                        </TabItem>

                        <TabItem
                            Foreground="DimGray"
                            Height="30"
                            Width="70"
                            Header="Albums">


                            <TabItem.Content>

                                <ListBox
                                    ItemsSource="{Binding Albums}">
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Vertical" Margin="5">



                                                <TextBlock
  
  Style="{StaticResource MaterialDesignBody2TextBlock}"
  Text="{Binding Name}" />

                                                <TextBlock
           FontSize="11"                     
  Foreground="Gray"
  Text="{Binding TracksCount, StringFormat='Tracks: {0}'}" />

                                            </StackPanel>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>

                            </TabItem.Content>


                        </TabItem>

                    </TabControl>




                </Grid>


            </materialDesign:Card>



        </Grid>

    </DockPanel>
</customView:CustomView>
